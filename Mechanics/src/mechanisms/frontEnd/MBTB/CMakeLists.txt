SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_CURRENT_SOURCE_DIR}/../../cmake/)
FIND_PACKAGE(SWIG REQUIRED)
INCLUDE(${SWIG_USE_FILE})


FIND_PACKAGE(SiconosNumerics)
FIND_PACKAGE(SiconosKernel)
FIND_PACKAGE(SiconosMechanics)


COMPILE_WITH(LAPACK REQUIRED COMPLETE)
COMPILE_WITH(BLAS REQUIRED)

FIND_PACKAGE(LibXml2)
#FIND_PACKAGE(OpenCascade)

FIND_PACKAGE(PythonLibs)
INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_PATH})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})


COMPILE_WITH(Boost REQUIRED)
COMPILE_WITH(Python_Numpy REQUIRED)



SET(LIB_MBTB_DEP  TIMERMBTB CADMBTB MBTB ${SiconosKernel_LIBRARIES} ${SiconosNumerics_LIBRARIES})

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR}/../../MBTB ${SiconosKernel_INCLUDE_DIRS} ${SiconosNumerics_INCLUDE_DIRS} ${ATLAS_INCLUDE_DIR} ${LIBXML2_INCLUDE_DIR})

SET_SOURCE_FILES_PROPERTIES(mbtb.i PROPERTIES CPLUSPLUS ON)
SWIG_ADD_MODULE(mbtb python mbtb.i)
SWIG_LINK_LIBRARIES(mbtb ${PYTHON_LIBRARIES} ${LIB_MBTB_DEP})
