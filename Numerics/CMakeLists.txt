# ########## Project setup ##########
PROJECT(Siconos_Numerics Fortran)

CMAKE_MINIMUM_REQUIRED(VERSION 2.4.4)

SET(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)

INCLUDE(fortran)

FIND_PACKAGE(LAPACK REQUIRED)

MESSAGE(STATUS "LAPACK_LINKER_FLAGS = ${LAPACK_LINKER_FLAGS}")
MESSAGE(STATUS "LAPACK_LIBRARIES = ${LAPACK_LIBRARIES}")

# config.h 
IF(BLAS_FOUND)
  SET(HAVE_BLAS 1)
ENDIF(BLAS_FOUND)

IF(LAPACK_FOUND)
  SET(HAVE_LAPACK 1)
ENDIF(LAPACK_FOUND)

IF(ATLAS_FOUND)
  SET(HAVE_ATLAS 1)
ENDIF(ATLAS_FOUND)

CONFIGURE_FILE(config.h.cmake config.h)
INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR})


SUBDIRS(src)
